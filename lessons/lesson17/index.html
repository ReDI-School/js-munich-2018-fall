<html>

<head>
    <title>ReDI.js 17</title>
    <link rel="stylesheet" href="../../reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../../reveal.js/css/theme/white.css">
    <link rel="stylesheet" href="../../reveal.js/lib/css/zenburn.css">
    <link rel="JavaScript" href="../../reveal.js/plugin/markdown/marked.js">
    <link rel="JavaScript" href="../../reveal.js/plugin/markdown/markdown.js">
    <link rel="stylesheet" href="../../reveal.js/css/redi.css">

    <style>
        .reveal .slides section .answer {
            color: darkorange;
            font-size: 90%;
        }

        .reveal .slides section li {
            margin-bottom: 0.5em;
        }

        .reveal .slides section.smaller {
            font-size: 90%;
        }

        .reveal .slides section.smaller ul li {
            font-size: 90%;
            margin-bottom: 0.5em;
        }
    </style>
</head>


<body>

    <a href="https://www.redi-school.org/"><img src="../../redi-school-logo.jpg" class="logo" /></a>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1>Intro to JavaScript</h1>
                <h3>üöÄ Lesson 17 üöÄ</h3>
            </section>

            <section><h2>Quiz! üòÜ</h2></section>

            <section>
                <h3>Pure functions</h3>
                <ul>
                    <li class="fragment">
                        When is a function pure?<br>
                        <span class="answer fragment">Depends only on arguments and has no side effects</span>
                    </li>
                    <li class="fragment">
                        Should you use global variables inside functions?<br>
                        <span class="answer fragment">Only if it can't be avoided!</span>
                    </li>
                    <li class="fragment">
                        When should you use pure functions?<br>
                        <span class="answer fragment">As often as possible</span>
                    </li>
                    <li class="fragment">
                        When should you not use a pure function?<br>
                        <span class="answer fragment">When side-effects are explicitly expected,<br>
                            e.g. to change the website content</span>
                    </li>
                </ul>
            </section>

            <section>
                <h3>Find the flaws!</h3>
                <ul>
                    <li class="fragment">
                        <pre><code data-trim>
                            var x = 10, y = 11;
                            function add() {
                                return x + y;
                            }
                        </code></pre>
                        <span class="answer fragment">Avoid using global variables!</span>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>
                            function add() {
                                let x = 10, y = 11;
                                return x + y;
                            }
                        </code></pre>
                        <span class="answer fragment">Should use arguments!</span>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>
                            function add(x, y) {
                                alert(x, y);
                            }
                        </code></pre>
                        <span class="answer fragment">Should use return!</span>
                    </li>
                </ul>
            </section>

            <section>
                <h3>Find the flaws!</h3>
                <ul>
                    <li class="fragment">
                        <pre><code data-trim>
                            let status = '';
                            function add(x, y) {
                                status = 'adding...'
                                return x + y;
                            }
                        </code></pre>
                        <span class="answer fragment">Avoid changing global variables!</span>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>
                            function add(x, y) {
                                return x, y;
                            }
                        </code></pre>
                        <span class="answer fragment">Perfect! ‚ú®</span>
                    </li>
                </ul>
            </section>

            <section>
                <h3>Exercise 17.1: Pure Functions (<b>10 minutes!!</b>)</h3>
                <ol>
                    <li>Write a function multiply(a, b) that returns a * b</li>
                    <li>Write a function power(a, b) that returns a ^ b.<br>It should use your multiply function!</li>
                </ol>
                <h4>Examples:</h4>
                <ul>
                    <li>multiply(4, 2) = 4 * 2 = 8</li>
                    <li>power(3, 3) = 3 * 3 * 3 = 27</li>
                    <li>power(2, 4) = 2 * 2 * 2 * 2 = 16</li>
                </ul>
            </section>

            <section><h2>More Quiz! üòÜ</h2></section>

            <section>
                <ul>
                    <li class="fragment">
                        How to get an HTML element with id '#myElement'?<br>
                        <span class="answer fragment"><pre><code data-trim>document.getElementById("myElement")</code></pre></span>
                    </li>
                    <li class="fragment">
                        How to get the text written in an HTML element 'e'?<br>
                        <span class="answer fragment"><pre><code data-trim>e.textContent</code></pre></span>
                    </li>
                    <li class="fragment">
                        How to change the text written in an HTML element 'e'?<br>
                        <span class="answer fragment"><pre><code data-trim>e.textContent = "new text!";</code></pre></span>
                    </li>
                </ul>
            </section>

            <section>
                <pre><code data-trim>
                    &lt;div id="div1"&gt;
                        &lt;div id="div2"&gt;redi&lt;/div&gt;
                        &lt;div id="div3"&gt;school&lt;/div&gt;
                        is cool
                    &lt;/div&gt;
                </code></pre>
                <div id="div1" style="display: none">
                    <div id="div2">redi</div>
                    <div id="div3">school</div>
                    is cool
                </div>
                <br>
                <ul>
                    <li class="fragment">
                        <pre><code data-trim>alert(document.getElementById("div2").textContent);</code></pre>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>alert(document.getElementById("div3").textContent);</code></pre>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>alert(document.getElementById("div1").textContent);</code></pre>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>alert(document.getElementById("div2").parentElement.textContent);</code></pre>
                    </li>
                </ul>
            </section>

            <section>
                <h2>Events ‚ö°Ô∏è</h2>
            </section>

            <section>
                <h3>An event can be...</h3>
                <ul>
                    <li class="fragment">The user <b>clicks</b> on a link</li>
                    <li class="fragment">The user <b>enters</b> a password</li>
                    <li class="fragment">The user <b>presses</b> the escape key</li>
                    <li class="fragment">The page <b>finishes</b> loading</li>
                    <li class="fragment">etc.</li>
                </ul>
                <h4 class="answer fragment">-> Super useful and important!</h4>
            </section>

            <section>
                <p>We've already talked about a form of events before...<br>Do you remember which?</p>
                <div class="fragment">
                    <span class="answer">onclick!</span>
                    <pre><code data-trim>
                        &lt;button onclick="alert('Hi Mr. Pickleworth!')">Say hi!&lt;/button>
                    </code></pre>
                    <br>
                    <button onclick="alert('Hi Mr. Pickleworth!')">Say hi!</button>
                </div>
            </section>

            <section>
                <p>With onclick, you can put JS code directly into HTML.</p>
                <p>But what if you want to run more complex code?</p>
                <div class="fragment">
                    <span class="answer">Define a function just for the click!</span>
                    <pre><code data-trim>
                        function onClick() {
                            var name = prompt("What's your name?");
                            alert("Hi " + name + "!");
                        }
                    </code></pre>
                    <pre><code data-trim>
                        &lt;button onclick="onClick()">Say hi!&lt;/button>
                    </code></pre>
                    <br>
                    <script>
                        function onClick() {
                            var name = prompt("What's your name?");
                            alert("Hi " + name + "!");
                        }
                    </script>
                    <button onclick="onClick()">Say hi!</button>
                </div>
            </section>

            <section>
                <p>Still has some disadvantages:</p>
                <ul>
                    <li class="fragment">We're <b>mixing</b> JS code with HTML</li>
                    <li class="fragment">What if we want to <b>change</b> a button's click event <b>later on</b>?</li>
                    <li class="fragment">What if we want to have <b>multiple</b> onclick-functions?</li>
                    <li class="fragment">What about other kinds of events except clicks?</li>
                </ul>
            </section>

            <section>
                <h3>Solution: Event Handlers ‚ö°Ô∏è</h3>
                <p><pre><code data-trim>element.addEventListener(eventType, eventHandler)</code></pre></p>
                <div class="fragment">
                    <p>For example:</p>
                    <pre><code data-trim>
                        &lt;button id="ok-button">OK&lt;/button>
                    </code></pre>
                    <pre><code data-trim>
                        function onOkButtonClick() {
                            alert("Someone clicked on OK!");
                        }
                        var okButton = document.getElementById("ok-button");
                        okButton.addEventListener("click", onOkButtonClick);
                    </code></pre>
                    <br>
                    <button id="ok-button">OK</button>
                    <script>
                        function onOkButtonClick() {
                            alert("Someone clicked on OK!");
                        }
                        var okButton = document.getElementById("ok-button");
                        okButton.addEventListener("click", onOkButtonClick);
                    </script>
                </div>
            </section>

            <section>
                <h3>Input events: Input</h3>
                <p>This event is caused when a user changes an input's content</p>
                <p><pre><code data-trim>inputElement.addEventListener("input", eventHandler)</code></pre></p>
                <div class="fragment">
                    <p>For example:</p>
                    <pre><code data-trim>
                        &lt;input id="username-input">&lt;/input>
                    </code></pre>
                    <pre><code data-trim>
                        function onUsernameInput() {
                            console.log('click');
                        }
                        var usernameInput = document.getElementById("username-input");
                        usernameInput.addEventListener("input", onUsernameInput);
                    </code></pre>
                    <br>
                    <input id="username-input"></input>
                    <script>
                        function onUsernameInput() {
                            console.log('click');
                        }
                        var usernameInput = document.getElementById("username-input");
                        usernameInput.addEventListener("input", onUsernameInput);
                    </script>
                </div>
            </section>

            <section class="smaller">
                <h3>Exercise 17.2: Input Event (<b>15 minutes!!</b>)</h3>
                <ol>
                    <li>Create a new codepen with an input element and an empty paragraph.</li>
                    <li>Whenever the user enters something to the input, set the text inside the paragraph to the input's value.</li>
                </ol>
                <h4>Tips:</h4>
                <ul>
                    <li><code>inputElement.addEventListener("input", ...);</code></li>
                    <li><code>inputElement.value;</code></li>
                    <li><code>paragraphElement.textContent = ...;</code></li>
                </ul>
            </section>


            <!-- skipping older version
            <section>
                <h3>Events ‚ö°Ô∏è</h3>
                <ul>
                    <li>Actions by either a <span class="emphasis">User</span> or the <span class="emphasis">Browser</span>
                        itself </li>
                    <ul>
                        <li class="fragment">The page finishes loading</li>
                        <li class="fragment">The user clicks on a button</li>
                        <li class="fragment">The user hovers over a dropdown</li>
                        <li class="fragment">The user submits a form</li>
                        <li class="fragment">The user presses a key on their keyboard</li>
                    </ul>
                </ul>
            </section>
            <section>
                <h3>Events ‚ö°Ô∏è</h3>
                <ul>
                    <li>By coding JavaScript responses that execute upon a event, we can ...</li>
                    <ul>
                        <li class="fragment">display messages to a user</li>
                        <li class="fragment">validate data</li>
                        <li class="fragment">react to a button click</li>
                        <li class="fragment">many other actions!</li>
                    </ul>
                </ul>
            </section>
            <section>
                <h3>When the user clicks a button or presses a key </h3>
                <ul>
                    <li class="fragment">An event is fired ! ‚ö°Ô∏è </li>
                    <li class="fragment">They are called "click event" or a "keypressed event"</li>
                </ul>
            </section>
            <section>
                <h3>Event handler </h3>
                <ul>
                    <li>Is a javascript function that runs when an event fires</li>
                </ul>
            </section>
            <section>
                <h3>Event listener </h3>
                <ul>
                    <li class="fragment">attaches a responsive interface to an element</li>
                    <li class="fragment">allows the particular element to wait and "listen" for the given event to fire</li>
                </ul>
            </section>
            <section>
                <h3>3 ways to assign events to elements </h3>
                <ul>
                    <li class="fragment">Inline event handlers</li>
                    <li class="fragment">Event handler properties</li>
                    <li class="fragment">Event listeners</li>
                </ul>
            </section>
            <section>
                <h3>What type of event handling have you already learned?</h3>
                <ul>
                    <li class="fragment">
                        Inline event handler
                        <pre><code>onclick</code></pre>
                    </li>
                    <li class="fragment">
                        <pre><code data-trim>
                                function greet() {
                                    alert("Hi Mr. Pickleworth!");
                                }
                                <button onclick="greet()">Say hi!</button>
                            </code></pre>
                        <script>
                            function greet() {
                                alert("Hi Mr. Pickleworth!");
                            }
                        </script>
                        <br><br>
                        <button onclick="greet()" style="font-size: 1.5em;">Say hi!</button>
                    </li>
                </ul>
            </section>
            <section>
                <h3 class="fragment">Event handler properties</h3>
                <ul>

                    <li class="fragment">
                        <pre><code data-trim>
                                    &lt;!---HTML----&gt;
                                    &lt;button id="myButton" style="font-size: 1.5em;"&gt;Say hi!&lt;/button&gt;
                            </code></pre>
                        <br>
                        <pre><code data-trim>
                                    &lt;!---Javascaript----&gt;
                                        let myElement = document.getElementById('myButton');
                                        function buttonClick() {
                                            alert("You just clicked the button, Mr. Pickleworth!");
                                        }
                                        myElement.onclick= buttonClick;
                            </code></pre>
                        <br>
                        <button id="myButton" style="font-size: 1.5em;">Click Here!</button>
                        <script>
                            let myElement = document.getElementById('myButton');
                            function buttonClick() {
                                alert("You just clicked the button, Mr. Pickleworth!");
                            }
                            myElement.onclick = buttonClick;
                        </script>
                    </li>
                </ul>
            </section>
            <section>
                TODO Put 1 or 2 Ex here
                https://www.digitalocean.com/community/tutorials/understanding-events-in-javascript
            </section>
            <section>
                <p class="fragment">While basic registration with event handler properties is perfectly fine. üëå</p>
                <ul>
                    <li class="fragment">But there is one key flaw, you can't bind more than 1 function to an event. üôÄ</li>
                    <li class="fragment">Solution? Event listener</li>
                </ul>
            </section>
            <section>
                <h3>Event listeners</h3>
                <ul>
                    <li class="fragment">
                        <pre><code data-trim>
                                                &lt;!---HTML----&gt;
                                                &lt;button id="myButton2" style="font-size: 1.5em;"&gt;Say hi!&lt;/button&gt;
                                        </code></pre>
                        <br>
                        <pre><code data-trim>
                                                &lt;!---Javascaript----&gt;
                                                let advElement = document.getElementById('myButton2');
                                                function buttonClick2() {
                                                    alert("You just clicked the button, Mr. Pickleworth!");
                                                }
                                                advElement.addEventListener('click', buttonClick2, false);
                                        </code></pre>
                        <br>
                        <button id="advButton" style="font-size: 1.5em;">Click Here!</button>
                        <script>
                            let advElement = document.getElementById('advButton');
                            function buttonClick2() {
                                alert("You just clicked the button, Mr. Pickleworth!");
                            }
                            advElement.addEventListener('click', buttonClick2, false);
                        </script>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Let's try 2 events</h3>
                <ul>
                    <li class="fragment">
                        <pre><code data-trim>
                                                &lt;!---HTML----&gt;
                                                &lt;button id="myButton3" style="font-size: 1.5em;"&gt;Say hi!&lt;/button&gt;
                                        </code></pre>
                        <br>
                        <pre><code data-trim>
                                                &lt;!---Javascaript----&gt;
                                                let advElement2 = document.getElementById('advButton2');
                                                function buttonClickAction1() {
                                                    alert("Hey there, you like red? Mr. Pickleworth!");
                                                }
                                                function buttonClickAction2() {
                                                   advElement2.style.color = "red"
                                                }
                                                advElement2.addEventListener('click', buttonClickAction1, false);
                                                advElement2.addEventListener('click', buttonClickAction2, false);
                                        </code></pre>
                        <br>
                        <button id="advButton2" style="font-size: 1.5em;">Click Here!</button>
                        <script>
                            let advElement2 = document.getElementById('advButton2');
                            function buttonClickAction1() {
                                alert("Hey there, you like red? Mr. Pickleworth!");
                            }
                            function buttonClickAction2() {
                                advElement2.style.color = "red"
                            }
                            advElement2.addEventListener('click', buttonClickAction1, false);
                            advElement2.addEventListener('click', buttonClickAction2, false);
                        </script>
                    </li>
                </ul>
            </section> -->


            <section>
                <h3> Mouse Events üê≠ ‚ö°Ô∏è </h3>
                <ul>
                    <li class="fragment"><span class="emphasis">mousedown</span></li>
                    <li class="fragment"><span class="emphasis">mouseup</span></li>
                    <li class="fragment"><span class="emphasis">click</span></li>
                    <li class="fragment"><span class="emphasis">dblick</span> - double click</li>
                    <li class="fragment"><span class="emphasis">mouseover</span> - mouse pointer enter the boundry of an
                        element
                    </li>
                    <li class="fragment"><span class="emphasis">mouseout</span></li>
                    <li class="fragment"><span class="emphasis">mousemove</span></li>
                </ul>
            </section>
            <section>
                <h3> Keyboard Events ‚å®Ô∏è ‚ö°Ô∏è </h3>
                <ul>
                    <li class="fragment"><span class="emphasis">keypress</span></li>
                    <li class="fragment"><span class="emphasis">keydown</span></li>
                    <li class="fragment"><span class="emphasis">keyup</span></li>
                </ul>
            </section>
            <section>
                <h3> Form Events üìÑ ‚ö°Ô∏è </h3>
                <ul>
                    <li class="fragment"><span class="emphasis">select</span> - event fired when text in a textfield is selected
                    </li>
                    <li class="fragment"><span class="emphasis">change</span> - event fired when control loses in put focus
                        or value has been modified
                    </li>
                    <li class="fragment"><span class="emphasis">submit</span></li>
                    <li class="fragment"><span class="emphasis">reset</span></li>
                    <li class="fragment"><span class="emphasis">focus</span> - event fired when an event gain focus</li>
                    <li class="fragment"><span class="emphasis">blur</span> - event fired when an element loses focus</li>
                </ul>
            </section>
            <section>
                <h3> Other Events üìÑ ‚ö°Ô∏è </h3>
                <ul>
                    <li class="fragment"><span class="emphasis">load</span> - event fired when all elements are loaded in
                        the document</li>
                    <li class="fragment"><span class="emphasis">resize</span> - event fired browser is resized</li>
                    <li class="fragment"><span class="emphasis">scroll</span> - event fired when browser is scrolled</li>
                    <li class="fragment"><span class="emphasis">unload</span> - event fired when the user leave the page</li>
                </ul>
            </section>
            <section>
                <h3>There are plenty more üòÜ</h3>
                <ul>
                    <li class="fragment">A lot of browsers have proprietary events</li>
                    <li class="fragment">Gecko specfici for example: <a href="https://developer.mozilla.org/en/Gecko-Specific_DOM_Events">https://developer.mozilla.org/en/Gecko-Specific_DOM_Events</a>
                    </li>
                </ul>
            </section>

            <!-- event delegation and bubbling is probably too much
            <section>
                <h3>Event Bubbling ‚ö°Ô∏èüéàüéàüéà</h3>
                <ul>
                    <li class="fragment">also known as event propagation</li>
                    <li class="fragment">When an event is fired and the event is "bubble" up the DOM</li>

                </ul>
            </section>
            <section>
                <ul>
                    <img class="fragment" src="assets/event-bubble.png">
                    <li class="fragment">anchor - paragraph - div - body - top</li>
                </ul>
            </section>
            -->
        </div>
    </div>


    <script src="../../jquery-3.3.1.slim.min.js"></script>
    <script src="../../reveal.js/lib/js/head.min.js"></script>
    <script src="../../reveal.js/js/reveal.js"></script>
    <script>
        Reveal.initialize({
            history: true,
            slideNumber: true,
            dependencies: [{
                src: '../../reveal.js/plugin/highlight/highlight.js',
                async: true,
                callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            },]
        });

        // Make each code example executable by clicking it:
        $(document).ready(function () {
            $('code').click(function (event) {
                //                console.info('Click!', $(this).text());
                eval($(this).text());
            });
        });
    </script>
</body>

</html>
